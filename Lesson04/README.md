# ДЗ 4 по лекции "ZFS"

## Задание

Практические навыки работы с `ZFS`
Цель: Отрабатываем навыки работы с созданием томов export/import и установкой параметров.

* [Определить алгоритм с наилучшим сжатием](#compression)
* [Определить настройки pool’a](#pool)
* [Найти сообщение от преподавателей](#message)

Результат:
список команд которыми получен результат с их выводами

### Определить алгоритм с наилучшим сжатием

Зачем:
Отрабатываем навыки работы с созданием томов и установкой параметров. Находим наилучшее сжатие.

Шаги:
- определить какие алгоритмы сжатия поддерживает `zfs` (`gzip`/`gzip-N`, `zle`, `lzjb`, `lz4`)
- создать 4 файловых системы на каждой применить свой алгоритм сжатия
Для сжатия использовать либо текстовый файл либо группу файлов:
- скачать файл “Война и мир” и расположить на файловой системе
`wget -O War_and_Peace.txt http://www.gutenberg.org/ebooks/2600.txt.utf-8`
либо скачать файл ядра распаковать и расположить на файловой системе

Результат:
- список команд которыми получен результат с их выводами
- вывод команды из которой видно какой из алгоритмов лучше

### Определить настройки pool’a

Зачем:
Для переноса дисков между системами используется функция export/import. Отрабатываем навыки работы с файловой системой `ZFS`

Шаги:
- Загрузить архив с файлами локально.
https://drive.google.com/open?id=1KRBNW33QWqbvbVHa3hLJivOAt60yukkg
Распаковать.
- С помощью команды `zfs import` собрать pool `ZFS`.
- Командами `zfs` определить настройки
    - размер хранилища
    - тип pool
    - значение recordsize
    - какое сжатие используется
    - какая контрольная сумма используется
Результат:
- список команд которыми восстановили `pool` . Желательно с Output команд.
- файл с описанием настроек `settings`

### Найти сообщение от преподавателей

Зачем:
для бэкапа используются технологии `snapshot`. `Snapshot` можно передавать между хостами и восстанавливать с помощью `send`/`receive`. Отрабатываем навыки восстановления `snapshot` и переноса файла.

Шаги:
- Скопировать файл из удаленной директории. https://drive.google.com/file/d/1gH8gCL9y7Nd5Ti3IRmplZPF1XjzxeRAG/view?usp=sharing
Файл был получен командой
`zfs send otus/storage@task2 > otus_task2.file`
- Восстановить файл локально. `zfs receive`
- Найти зашифрованное сообщение в файле `secret_message`

Результат:
- список шагов которыми восстанавливали
- зашифрованное сообщение


## Описание решения

### Определить алгоритм с наилучшим сжатием <a name="compression"></a>

### Определить настройки pool’a <a name="pool"></a>

### Найти сообщение от преподавателей <a name="message"></a>
